<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMQ Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --accent-color: #7161ef; }
        body, html { margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #121212; color: #fff; overflow: hidden; }
        .player-container { display: flex; flex-direction: column; height: 100vh; }
        .track-list { list-style: none; padding: 10px; margin: 0; overflow-y: auto; flex-grow: 1; }
        .track-list li { display: flex; align-items: center; padding: 8px; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; }
        .track-list li:hover { background-color: #282828; }
        .track-list li.playing { background-color: #3a3a3a; }
        .track-list img { width: 40px; height: 40px; border-radius: 4px; margin-right: 12px; }
        .track-list .track-info { flex-grow: 1; overflow: hidden; }
        .track-list .title { font-weight: bold; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .track-list .artist { font-size: 12px; color: #b3b3b3; }
        .controls-panel { background-color: #181818; padding: 15px; display: flex; align-items: center; gap: 15px; flex-shrink: 0; border-top: 1px solid #282828;}
        .controls-panel .cover { width: 50px; height: 50px; border-radius: 4px; object-fit: cover; }
        .controls-panel .main-controls { display: flex; align-items: center; gap: 20px; }
        .controls-panel button { background: none; border: none; color: #fff; cursor: pointer; font-size: 18px; }
        .controls-panel #play-pause-btn { font-size: 28px; }
        .controls-panel .progress-info { flex-grow: 1; display: flex; flex-direction: column; gap: 5px; }
        .controls-panel .progress-container { width: 100%; height: 4px; background: #535353; border-radius: 2px; cursor: pointer; }
        .controls-panel .progress-bar { width: 0%; height: 100%; background: #fff; border-radius: 2px; }
        .controls-panel .time-stamps { display: flex; justify-content: space-between; font-size: 11px; color: #b3b3b3; }
        #volume-container { display: flex; align-items: center; gap: 8px; position: relative; }
        #volume-btn:hover + #volume-slider-container { display: block; }
        #volume-slider-container { display: none; position: absolute; bottom: 35px; left: -25px; background: #282828; padding: 10px 5px; border-radius: 5px; }
        #volume-slider { -webkit-appearance: none; appearance: none; width: 80px; height: 4px; background: #535353; outline: none; border-radius: 2px; }
        #volume-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 12px; height: 12px; background: #fff; cursor: pointer; border-radius: 50%; }
        .track-list::-webkit-scrollbar { width: 8px; }
        .track-list::-webkit-scrollbar-track { background: #121212; }
        .track-list::-webkit-scrollbar-thumb { background: #535353; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="player-container">
        <ul id="track-list" class="track-list"></ul>
        <div class="controls-panel">
            <img id="current-cover" class="cover" src="https://via.placeholder.com/50" alt="Cover"/>
            <div class="progress-info">
                <div class="progress-container" id="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
                <div class="time-stamps"><span id="current-time">0:00</span><span id="total-time">0:00</span></div>
            </div>
            <div class="main-controls">
                <button id="prev-btn"><i class="fas fa-step-backward"></i></button>
                <button id="play-pause-btn"><i class="fas fa-play"></i></button>
                <button id="next-btn"><i class="fas fa-step-forward"></i></button>
            </div>
            <div id="volume-container">
                <button id="volume-btn"><i class="fas fa-volume-up"></i></button>
                <div id="volume-slider-container"><input type="range" min="0" max="1" step="0.01" value="1" id="volume-slider"></div>
            </div>
        </div>
    </div>

    <audio id="audio-player"></audio>

    <script>
        const tracks = [
            { title: "Getmə, Kimsəsizəm", description: "Test İfaçı", image: "https://i.ibb.co/3sZpY7s/music-cover-1.png", audioLink: "https://raw.githubusercontent.com/jafarovmediagroup/music-box/main/Getm%C9%99%2C%20kims%C9%99siz%C9%99m.mp3" },
            { title: "Meşə Səsləri", description: "Təbiət", image: "https://i.ibb.co/L5k6Y1G/music-cover-2.png", audioLink: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" }
        ];

        const audioPlayer=document.getElementById('audio-player'),trackList=document.getElementById('track-list'),playPauseBtn=document.getElementById('play-pause-btn'),nextBtn=document.getElementById('next-btn'),prevBtn=document.getElementById('prev-btn'),currentCover=document.getElementById('current-cover'),progressBar=document.getElementById('progress-bar'),progressContainer=document.getElementById('progress-container'),currentTimeEl=document.getElementById('current-time'),totalTimeEl=document.getElementById('total-time'),volumeBtn=document.getElementById('volume-btn'),volumeSlider=document.getElementById('volume-slider');
        let currentTrackIndex=0;
        
        function loadTrack(index){const track=tracks[index];audioPlayer.src=track.audioLink;currentCover.src=track.image||'https://via.placeholder.com/50';document.querySelectorAll('#track-list li').forEach(li=>li.classList.remove('playing'));const currentLi=document.getElementById(`track-${index}`);if(currentLi)currentLi.classList.add('playing');currentTrackIndex=index}
        function playTrack(){audioPlayer.play()}
        function pauseTrack(){audioPlayer.pause()}
        function nextTrack(){loadTrack((currentTrackIndex+1)%tracks.length);playTrack()}
        function prevTrack(){loadTrack((currentTrackIndex-1+tracks.length)%tracks.length);playTrack()}
        function updateProgress(e){const{duration,currentTime}=e.srcElement;if(duration){progressBar.style.width=`${(currentTime/duration)*100}%`;currentTimeEl.textContent=formatTime(currentTime);totalTimeEl.textContent=formatTime(duration)}}
        function setProgress(e){const width=this.clientWidth;audioPlayer.currentTime=(e.offsetX/width)*audioPlayer.duration}
        function updatePlayIcon(){playPauseBtn.innerHTML=audioPlayer.paused?'<i class="fas fa-play"></i>':'<i class="fas fa-pause"></i>'}
        function updateVolumeIcon(){const vol=audioPlayer.volume,muted=audioPlayer.muted;const icon=volumeBtn.querySelector('i');if(muted||vol===0){icon.className="fas fa-volume-mute"}else if(vol<0.5){icon.className="fas fa-volume-down"}else{icon.className="fas fa-volume-up"}}
        function formatTime(s){const m=Math.floor(s/60);return isNaN(m)?'0:00':`${m}:${Math.floor(s%60).toString().padStart(2,'0')}`}
        
        playPauseBtn.addEventListener('click',()=>{audioPlayer.src?(audioPlayer.paused?playTrack():pauseTrack()):(loadTrack(0),playTrack())});
        nextBtn.addEventListener('click',nextTrack);
        prevBtn.addEventListener('click',prevTrack);
        volumeBtn.addEventListener('click',()=>{audioPlayer.muted=!audioPlayer.muted});
        volumeSlider.addEventListener('input',e=>{audioPlayer.volume=e.target.value});
        audioPlayer.addEventListener('timeupdate',updateProgress);
        audioPlayer.addEventListener('volumechange',updateVolumeIcon);
        progressContainer.addEventListener('click',setProgress);
        audioPlayer.addEventListener('play',updatePlayIcon);
        audioPlayer.addEventListener('pause',updatePlayIcon);
        audioPlayer.addEventListener('ended',nextTrack);

        trackList.innerHTML=tracks.map((t,i)=>`<li id="track-${i}"><img src="${t.image||'https://via.placeholder.com/40'}"><div class="track-info"><div class="title">${t.title}</div><div class="artist">${t.description}</div></div></li>`).join('');
        document.querySelectorAll('#track-list li').forEach((li,i)=>{li.addEventListener('click',()=>{loadTrack(i);playTrack()})});
        
        if(tracks.length>0){loadTrack(0)}
        updateVolumeIcon();
    </script>
</body>
</html>
